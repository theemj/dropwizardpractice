apply plugin: "java"
apply plugin: "application"
apply plugin: "eclipse"
apply plugin: "idea"

// ===============================================
// Create the source directories for Java projects
// ===============================================
task "createDirs" << {
    sourceSets*.java.srcDirs*.each { it.mkdirs() }
    sourceSets*.resources.srcDirs*.each { it.mkdirs() }
}

build {
    dependsOn "createDirs"
}

repositories {
    mavenCentral()
}

dependencies {
    compile "io.dropwizard:dropwizard-core:0.9.1"
    compile "com.bazaarvoice.dropwizard:dropwizard-configurable-assets-bundle:0.2.2"

    testCompile group: 'junit', name: 'junit', version: '4.12'
}

mainClassName = "edu.meredith.midiate.MidiateApp"

run {
    args "server", "config.yml"
}